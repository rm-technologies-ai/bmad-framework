markdownExploder: true
prd:
  # DEPRECATED: Legacy PRD generation - use templateBasedPRD instead
  prdFile: docs/prd.md  
  prdVersion: v4
  prdSharded: true
  prdShardedLocation: docs/prd
  epicFilePattern: epic-{n}*.md
templateBasedPRD:
  # MANDATORY: Template-based PRD generation system
  templateFile: templates/PRD-template.md
  templateMode: enforced_structure
  outputPattern: docs/prd-v{n}.md
  currentVersion: v0
  versioningEnabled: true
  generationDirectory: .ai/prd-generation
  archiveDirectory: docs/prd-archive
  classificationSystem:
    confidenceThreshold: 0.3
    classificationScript: utilities/prd-template-processor/classification_system.py
    validationScript: utilities/prd-template-processor/template_validator.py
    versionManagerScript: utilities/prd-template-processor/version_manager.py
  errorHandling:
    uncategorizableContent: flag_for_human_review
    templateViolations: halt_and_report
    versionConflicts: create_new_version
  qualityGates:
    minimumValidationScore: 0.8
    requiredSections: 15
    structureComplianceRequired: true
architecture:
  architectureFile: docs/architecture.md
  architectureVersion: v4
  architectureSharded: true
  architectureShardedLocation: docs/architecture
customTechnicalDocuments: null
documentIngestion:
  pdfConversionRequired: true
  sourceDocumentsPath: input-documents
  convertedDocumentsPath: input-documents-converted-to-md
  conversionScript: utilities/pdf-to-md-converter/convert_pdf_to_md.py
  pipelineScript: utilities/pdf-ingestion-pipeline/convert_pdf.py
  versioningEnabled: true
  latestVersionPriority: true
  validationRequired: true
  validationScript: utilities/validation-scripts/validate_conversion.py
devLoadAlwaysFiles:
  - docs/architecture/coding-standards.md
  - docs/architecture/tech-stack.md
  - docs/architecture/source-tree.md
  - docs/pdf-ingestion-rules.md
devDebugLog: .ai/debug-log.md
devStoryLocation: docs/stories
slashPrefix: BMad
